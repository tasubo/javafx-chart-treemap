apply plugin: 'java'
apply plugin: "maven"

group = 'com.github.tasubo.javafx'
version = '1.0.0-SNAPSHOT'

sourceCompatibility = '1.7'
[compileJava, compileTestJava]*.options*.encoding = 'UTF-8'


def javafxHome = 'C:\\Program Files (x86)\\Java\\jre7'

if (!hasProperty('mainClassName')) {
    ext.mainClassName = ''
}


repositories {
    mavenLocal()
    mavenCentral()
}

configurations {
    providedCompile
}

def depFx = "$javafxHome\\lib\\jfxrt.jar";

if (!new File(depFx).exists()) {
    throw new RuntimeException("Not found: " + depFx);
}

dependencies {
    testCompile group: 'junit', name: 'junit', version: '4.11'
    testCompile 'org.hamcrest:hamcrest-all:1.3'

    providedCompile files(depFx)
    compile group: 'com.google.guava', name: 'guava', version: '13.0'
}

compileJava {
    sourceSets.main.compileClasspath += configurations.providedCompile
}